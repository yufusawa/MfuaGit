### [Вернуться на Главную](/README.md)

## Поддержка и тестирование программных модулей

Лекция 2.

Рассмотрение документации в рамках Единой системы программной документации (**ЕСПД**) придает вопросу строгость и нормативность, характерную для многих отраслей, особенно в госсекторе и на оборонных предприятиях.

Давайте детально разберем, как **ЕСПД** регулирует документирование в контексте поддержки и тестирования программных модулей.

### Введение: Что такое ЕСПД?

**Единая система программной документации (ЕСПД)** — это комплекс государственных стандартов (ГОСТ), устанавливающих взаимосвязанные правила разработки, оформления и обращения программной документации (ПД). Её цель — унификация, снижение затрат на создание документации и обеспечение её управляемости на всем жизненном цикле ПО.

Ключевые стандарты в контексте модулей, тестирования и поддержки:
*   **ГОСТ 19.**ххх (серия "Стандарты на разработку и сопровождение программ") — основная серия для ПО.
*   **ГОСТ 34.**ххх (серия "Стандарты на автоматизированные системы") — для комплексных систем.

---

### Документы ЕСПД, ключевые для поддержки и тестирования модулей

В рамках ЕСПД создается не один монолитный документ, а пакет взаимосвязанных документов. Для дисциплин поддержки и тестирования наиболее релевантны следующие виды документов:

#### 1. Документы, непосредственно описывающие модуль и его тестирование

| Документ (Код по ГОСТ 19) | Назначение в контексте тестирования и поддержки |
| :--- | :--- |
| **Спецификация (13)** | **Для тестирования:** Является основным источником истины о *том, что* должен делать модуль. Формальное описание требований — это основа для написания тест-кейсов (особенно тестов черного ящика).<br>**Для поддержки:** Позволяет инженеру поддержки определить, является ли поведение модуля корректным или же это отклонение от спецификации (дефект). |
| **Текст программы (12)** | **Для тестирования (Модульное/Белый ящик):** Исходный код — это объект тестирования. Тестировщик (или разработчик) анализирует код для создания тестов, покрывающих все ветвления, циклы и условия.<br>**Для поддержки:** Прямой объект для анализа и исправления дефектов. |
| **Описание программы (31)** | **Для тестирования и поддержки:** Содержит общие сведения о модуле: назначение, функции, условия применения. Это "входная точка" для любого специалиста, начинающего работу с модулем. |
| **Ведомость держателей подлинников (03)** | **Для поддержки:** Критически важен! Определяет, где хранятся официальные (подлинные) версии каждого документа и модуля. Позволяет избежать хаоса и работы с устаревшими версиями. |

#### 2. Документы, целиком посвященные тестированию

| Документ (Код по ГОСТ 19) | Назначение в контексте тестирования и поддержки |
| :--- | :--- |
| **Программа и методика испытаний (19)** | **Главный документ процесса тестирования.**<br>• **Программа испытаний** — определяет *объекты* тестирования (какие модули), *объем* (что проверяем), *методы* (как проверяем), *ресурсы* и *график*.<br>• **Методика испытаний** — это, по сути, детальные **тест-кейсы**. Она включает: <br>  - *Подготовку* к тесту (окружение, данные).<br>  - *Процедуру* выполнения (шаги).<br>  - *Критерии успеха* (ожидаемые результаты).<br>**Для поддержки:** Этот документ служит эталоном того, как модуль был проверен. При регрессионном тестировании после исправления бага используется эта же методика. |

#### 3. Документы, возникающие в процессе тестирования и поддержки

| Документ (Код по ГОСТ 19) | Назначение в контексте тестирования и поддержки |
| :--- | :--- |
| **Протокол испытаний (81)** | **Фактический отчет о тестировании.** Фиксирует результаты прогона "Программы и методики испытаний" (19). Содержит:<br>• Даты тестирования.<br>• Итоги по каждому тест-кейсу ("пройден"/"не пройден").<br>• Обнаруженные отклонения (дефекты).<br>• Заключение о возможности приемки модуля. |
| **Формуляр (30)** | **Паспорт модуля/программы.** Содержит сведения о состоянии модуля, внесенных изменениях, составе и датах выпуска версий. **Ключевой документ для поддержки**, так как дает полную историю жизни модуля. |
| **Ведомость эксплуатационных документов (20)** | **Для поддержки:** Определяет набор документов, которые *необходимы для корректной эксплуатации и поддержки* модуля. Гарантирует, что у службы поддержки всегда будет актуальный пакет документации. |

---

### Практическая реализация в современных условиях

Хотя ЕСПД предписывает строгие формы, её принципы можно и нужно адаптировать к современным Agile/DevOps-практикам с помощью инструментов **Documentation-as-Code**.

**Как современные инструменты реализуют принципы ЕСПД:**

1.  **Спецификация (13) -> `specification.md` + OpenAPI (`api.yaml`)**
    *   Требования пишутся в Markdown и хранятся в Git.
    *   API-модуля описывается в машиночитаемом OpenAPI-файле, который является одновременно и спецификацией, и основой для автоматических тестов.

2.  **Программа и методика испытаний (19) -> `test_cases/` (Code) + `testing_plan.md`**
    *   "Методика испытаний" (тест-кейсы) реализуется в виде кода на pytest, JUnit и т.д. (Файлы `test_*.py`).
    *   "Программа испытаний" (стратегия, объем, окружение) описывается в Markdown-файле.

3.  **Протокол испытаний (81) -> CI/CD Pipeline Report + Allure Report**
    *   При каждом запуске пайплайна (например, в GitLab CI) генерируется автоматический "протокол" в виде отчета о тестировании (например, Allure Report), который содержит историю запусков, статусы, логи и артефакты.

4.  **Формуляр (30) -> CHANGELOG.md + Git Tags + Releases**
    *   История изменений (CHANGELOG.md), теги и релизы в Git полностью реализуют идею формуляра, фиксируя версии, даты и состав изменений.

5.  **Ведомость держателей подлинников (03) -> Git Repository**
    *   Git-репозиторий по своей сути является "ведомостью держателей подлинников". Главная ветка (`main`/`master`) — это и есть подлинник.

### Пример жизненного цикла модуля в рамках ЕСПД и современных инструментов

1.  **Разработка:**
    *   Разработчик создает модуль, пишет код (`program.c`).
    *   К нему создается `specification.md` (Спецификация) и `description.md` (Описание программы).
    *   На основе спецификации пишутся модульные тесты (`test_program.c` — часть Методики испытаний).

2.  **Тестирование:**
    *   В CI/CD пайплайне запускаются тесты.
    *   Пайплайн генерирует **Протокол испытаний** (Allure Report).
    *   Если тесты пройдены, код сливается в `main`.

3.  **Поддержка:**
    *   Поступает сообщение о дефекте.
    *   Инженер поддержки обращается к **Формуляру** (`CHANGELOG.md`) и **Спецификации** (`specification.md`), чтобы верифицировать баг.
    *   После исправления бага разработчик обновляет код и тесты.
    *   Запускается пайплайн, выполняющий **регрессионное тестирование** (по той же "Методике испытаний").
    *   **Формуляр** обновляется: в `CHANGELOG.md` добавляется запись о исправлении, создается новый git-тег (версия).

### Итог: Сильные стороны и сложности

**Сильные стороны подхода ЕСПД в контексте тестирования и поддержки:**
*   **Стандартизация:** Все участники процесса (разработчики, тестировщики, поддержка) говорят на одном языке и используют одинаковые форматы.
*   **Полнота:** Исключает ситуации, когда документация "забыта". Каждый аспект модуля формально задокументирован.
*   **Прослеживаемость:** Легко установить, какое требование (Спецификация) проверялось каким тестом (Методика) и с каким результатом (Протокол).
*   **Управляемость:** Четко определены процессы изменения и хранения документов.

**Сложности и как их преодолеть:**
*   **Громоздкость:** Классическое оформление по ЕСПД может быть медленным.
    *   *Решение:* Адаптация принципов через "Documentation-as-Code". Использование шаблонов и генераторов для автоматизации оформления.
*   **Риск устаревания:** Документация может отставать от кода.
    *   *Решение:* Жесткая привязка документации к коду в Git. Запрет на мерж кода без обновления соответствующей документации. Включение сборки документации в CI.

Таким образом, **ЕСПД предоставляет robust-ную нормативную рамку**, а **современные инструменты — технические средства** для её эффективной и гибкой реализации в условиях непрерывной интеграции и поставки, делая процессы тестирования и поддержки предсказуемыми и управляемыми.